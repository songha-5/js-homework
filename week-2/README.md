# 과제 수행 과정 기록

게임에서 많이봤던 슬라이드나 튀어나와 있는 이미지를 활용해서 너무 기대되는 한편 걱정이 되었습니다.

일단 WAI-ARIA에 맞게 HTML구조를 작성하고자 하였으며, 되도록 JS에서 활용을 위해 class와 data-info를 활용하고자 하였습니다. 

JS작성에선 값을 그대로 넣고 난 뒤, 리펙토링을 통해서 고정된 값을 유동적으로 관리하고자 하였습니다. 하지만 생각보다 하드코딩에서 변수를 넣어 유동적으로 변경하려하는것이 힘들고, 코드 작업이 끝난 뒤 예상치 못한 구조 오류가 발생하여 다음에는 다른 방법을 생각해 보려 합니다.

코드 작업하다 많은 오류가 났습니다. 일단 HTML/CSS오류도 많이 났고, JS도 많이났지만 그중에 큰것을 몇가지 뽑아봤습니다.

일단 카드 다음버튼을 눌렀을 때, 페이지가 넘어가게 하는 부분이 제대로 작동하지 않았습니다. ``현재페이지 === 객체.id``로 해서 하드코딩을 했기 때문이였고, 이점을 간과했기 때문이였습니다. 그래서 조건문을 바꾸는 작업을 시작했습니다. 여기서 부터 값을 유동적으로 넣기 시작했습니다.

object안에 id와 currentPage를 일치하면 페이지가 바뀌게 하는 조건식을 추가했고,
``Object.value().find``를 찾아 활용했습니다.

그랬더니 버튼을 눌렀을때 페이지는 넘어가나, 이미지가 두장씩 넘어가지 않고 한장씩 넘어가는 문제가 발생했습니다. 코드를 새로짜기 시작했습니다.

생각은 id값을 받아 첫번째 아이템엔 첫번째 id, 두번째 아이템안 두번째 id, 넘길때마다 +2를 해주는걸 생각했는데, 결국 짜지못하고 AI의 도움을 받아 두장씩 넘어가게 짜게 됬습니다. 짝수, 홀수배치로 HTML을 넣게 되었으며, 구현 방식이 아예 달라졌습니다. 고민을 오래한만큼 기분이 너무 좋지않아 다음에는 힌트정도나 들어야겠다 생각한 계기가 되었습니다.

그리고 코드 정리를 하고 난 후, 오류가 날 만한 상황을 생각하고 추가했습니다.

첫째로 배열이 비었을 때, 페이지네이션이 실수가 되었습니다. Math.ceil이란걸 찾아, 추가하여 방지하였습니다.

둘째로, 빈 배열이 들어갔을때 HTML에 공란이 들어가지 않고 전에 들어간 HTML이 나왔습니다. 그래서 else를 추가하여 공백이 나오도록 추가하였습니다. 아예 HTML을 ``<div></div>``로 추가하니 다음 페이지로 넘어갈 때 화면이 나오지 않아 코드가 중복되더라도 공란으로 추가하였습니다.

셋째로, 배열 중간에 id가 비게 되면 (1,2,4)해당 페이지가 당겨서 나오지 않습니다. 지금 코드는 id 짝수, 홀수에 맞게 배치되었기 때문에 해당 코드를 새로 짜야합니다.

# 테스트 코드 작성

- ``totalStateNow: 전체페이지``를 HTML에 적용

- ``.navi-prev``, ``.navi-next``을 클릭

- ``countPlus``, ``countMinus``함수 실행
  - 현재 페이지 숫자 + 1 / - 1 
  - 초과 페이지
    - 첫 페이지로 이동
  - 마이너스 페이지
    - 최대 페이지로 이동

- ``gameInfoAdd``함수 실행
  - ``gamesList`` 객체와 ``현재페이지``를 가지고 옴
  - ``gamesList``에 id값과 홀수/짝수페이지가 일치하면 데이터 뿌려줌
    - id값이 비어있을 경우 ''값 출력
    - 배열에 id가 불규칙한 경우 자동으로 정렬되어 출력이 안 됨, 공란 발생
  - ``현재페이지``를 HTML에 반영

# 과제 코드 리뷰

- 코드 중복이 많아 리펙토링이 필요합니다.
  - id와 짝수, 홀수매칭으로 코드를 짰습니다. 그렇기 때문에 변수 선언이 불필요하게 많아졌고, 페이지 HTML 추가 부분도 같이 길어졌습니다. 

- 코드 로직을 새로짤 필요가 있습니다.
  - 객체의 id를 가지고 짝수, 홀수로 매칭하다 보니 중간에 객체가 빠지는 경우 객체가 자동으로 앞으로 당겨져야 하는데 그렇지 않습니다.

- 객체가 비었을때 공란으로 가져오게 하였습니다.
  - 객체가 비어있을때 데이터를 가져오면 전에 불러온 데이터가 중복으로 들어갔습니다. 해당 데이터를 예외 처리하여 공백으로 불러오게 하였습니다.


# 회고 (깨달은 점, 아쉬운 점 등)

처음 네비게이션을 구현할 때, 하드코딩으로 시작하니 로직을 다시 잡아야 하는 상황이 빈번하게 이루어졌다. 다음에는 다른 방법을 찾아봐야겠다.

생각보다 하드코딩이 많이 들어갔다. 문제는 자꾸 인식하지 못하고 넘어가게 된다. 최대한 수정을 했으나, 아직 반영이 안된 부분이 있을 것 같다.

객체를 타고 게임이름을 타고 들어가서 해당 id값을 찾아 해당 페이지와 비교하려고 하니 너무 복잡했다. 간결하게 짜는 다른 방법을 찾아봐야겠다. 

페이지 전/후 버튼을 눌렀을 때, 페이지 내용이 한번에 2개씩 바뀌어야하는데 한개씩 바뀐다. 2페이지에 3,4가 아닌 2,3으로 나오는것 처럼 바뀐다. 나중에 이유를 알 수 있었는데, ``Id.객체``로 조건을 짰었었다. 그러다 보니 무조건 해당 페이지에 맞게 순서대로 페이지가 나오는 것이였다.

페이지 네비게이션에 따라 HTML의 내용이 바뀌는 부분은 결국 AI의 부분을 받았다.(홀수일때 HTML넣고, 짝수일때 HTML넣기) 도움을 받고난 뒤 코드를 내가 직접 짜보기도 하고. 이해하려 노력했지만 찝찝한 마음이 떠나가지 않아 많이 아쉽다. 그래도 이번에 경험을 해보니 어떻게 해야할지 감이잡힌다. 이번처럼 몇시간이나 고민해도 답이 안나오는 경우라면 차라리 힌트를 달라는 식으로 ai를 활용해야겠다.

오류를 대비한 코드를 넣으려고 노력했다. 빈값인경우나, 중간에 객체가 빠지는 경우를 고려하고자 하였다. 그러다가 로직의 잘못된 점을 찾았으나, 처음부터 다시 고려해야한다는 점을 알았다. 다음에는 오류상황도 리스트에 적고 로직을 짜야겠다는 경험을 했다.

CSS실수가 잦았다. 다음에는 더 꼼꼼히 확인해야겠다.